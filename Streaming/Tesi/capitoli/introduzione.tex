%license:BSD-3-Clause
%copyright-holders:Michele Maione
%============================================================
%
%	Piattaforma di cloud gaming per giochi arcade
%
%============================================================

\chapter*{Introduzione}
\addcontentsline{toc}{chapter}{Introduzione}
\markboth{}{INTRODUZIONE}

%L'introduzione deve essere atomica, quindi non deve contenere nè sottosezioni nè paragrafi nè altro. Il titolo, il sommario e l'introduzione devono sembrare delle scatole cinesi, nel senso che lette in quest'ordine devono progressivamente svelare informazioni sul contenuto per incatenare l'attenzione del lettore e indurlo a leggere l'opera fino in fondo. L'introduzione deve essere tripartita, non graficamente ma logicamente:
%Il capitolo che apre questa tesi



%Inquadramento generale
%La prima parte contiene una frase che spiega l'area generale dove si svolge il lavoro; una che spiega la sottoarea più specifica dove si svolge il lavoro e la terza, che dovrebbe cominciare con le seguenti parole "lo scopo della tesi è \dots", illustra l'obbiettivo del lavoro. Poi vi devono essere una o due frasi che contengano una breve spiegazione di cosa e come è stato fatto, delle attività sperimentali, dei risultati ottenuti con una valutazione e degli sviluppi futuri. La prima parte deve essere circa una facciata e mezza o due

Nel 1972 la società Atari pubblicava il primo videogioco della storia, Pong, vendendo 19.000 cabinati e presto molte altre società seguirono l'esempio. Alla fine del decennio iniziò l'epoca d'oro dei videogiochi arcade e la nascita delle console \parencite{High_Score}. I videogiochi uniscono narrativa, animazione e musica all'interattività, ed è grazie a quest'ultima che riescono ad esercitare un potenziale d'immersione e attrazione che gli altri media non hanno, tanto da diventare un fenomeno culturale di massa con centinaia di milioni di persone che giocano regolarmente ogni giorno, rendendoli attori dominanti nel settore dell'intrattenimento. L'importanza economica dei videogiochi arcade, negli ultimi vent'anni, è notevolmente diminuita a favore dei videogiochi per personal computer, console e più recentemente per mobile.

Il cloud computing è un paradigma a cui siamo ormai abituati e ci risulterebbe difficile abbandonare servizi come Dropbox, Office 365, Spotify e Netflix per tornare alle loro versioni "precedenti": i rullini fotografici, i documenti aziendali negli archivi, i CD audio ed i DVD a noleggio. Dalla nascita dei primi servizi di cloud computing nel 2006 alcuni oggetti sono stati sostituiti con la loro controparte informatica portando al fallimento di aziende storiche come Blockbuster (nel 2013), Kodak (nel 2012) e Borders\footnote{Borders Group era un rivenditore americano di libri e musica.} (nel 2011) \parencite{I_4_fallimenti_più_clamorosi_del_decennio}. Il cloud computing consiste nella distribuzione on-demand delle risorse IT tramite internet su tre livelli di servizio che sono: l'accesso all'infrastruttura hardware tramite API, la piattaforma software (inclusa di sistemi di sviluppo) e le applicazioni. Con il cloud computing la potenza della macchina, sia essa fisica o virtuale, aumenta automaticamente all'esigenza permettendo di gestire i picchi di utilizzo; svincola gli utenti dal dover acquistare, manutenere e gestire fisicamente le infrastrutture IT; fornisce l'accesso alle risorse informatiche da qualsiasi device, da qualsiasi luogo e in modo collaborativo.

Unendo il paradigma del cloud computing con lo streaming nasce un nuovo tipo di servizio dedicato ai videogiochi: il cloud gaming. Questo servizio rende possibile videogiocare in remoto senza scaricare o installare il gioco sul device dell'utente. Con il cloud gaming i videogiochi sono archiviati ed eseguiti su un server remoto e l'output audio-video trasmesso al dispositivo dell'utente, permettendo di iniziare a giocare immediatamente indipendentemente dal sistema operativo e dalle capacità hardware del dispositivo utilizzato. Infine, indirettamente, viene garantita la gestione dei diritti digitali (DRM) per gli editori.

Lo scopo di questa tesi è creare una piattaforma di cloud gaming per far conoscere alle nuove generazioni i videogiochi che hanno fatto la storia e dare la possibilità di poter giocare ancora a macchine che  ormai hanno cessato di funzionare per motivi di obsolescenza. Per far ciò verrà ampliato il software MAME (rilasciato sotto licenza GNU-GPL) che è in grado di emulare oltre 7.000 giochi arcade, di modo che possa fungere da server di cloud gaming e comunicare con un front-end HTML, rimanendo sempre indipendente dal sistema operativo, rendendo più agevole l’installazione di uno stand per il retro-gaming.

Per ampliare il progetto MAME ho modificato le funzionalità di rendering video e missaggio audio per convogliare il loro output, che viene codificato in MPEG-TS, ad un modulo in grado di eseguire lo streaming ad una pagina HTML tramite il protocollo WebSocket. Ho creato un modulo JavaScript per la pagina web per gestire l'input utente e decodificare il filmato MPEG-TS.

La piattaforma utilizza un bit-rate tra 0.5 Mbps e 2.2 Mbps ed offre una risoluzione di 480p; per valutarne la latenza è stata testata su rete locale e su rete internet; mentre la qualità audio-video è stata classificata tramite "peek signal-to-noise ratio" e "structural similarity index method".




%Breve descrizione del lavoro
%La seconda parte deve essere una esplosione della prima e deve quindi mostrare in maniera più esplicita l'area dove si svolge il lavoro, le fonti bibliografiche più importanti su cui si fonda il lavoro in maniera sintetica (una pagina) evidenziando i lavori in letteratura che presentano attinenza con il lavoro affrontato in modo da mostrare da dove e perchè è sorta la tematica di studio. Poi si mostrano esplicitamente le realizzazioni, le direttive future di ricerca, quali sono i problemi aperti e quali quelli affrontati e si ripete lo scopo della tesi. Questa parte deve essere piena (ma non grondante come la sezione due) di citazioni bibliografiche e deve essere lunga circa 4 facciate.

%intro cloud gaming
Cloud for Gaming si riferisce all'uso delle tecnologie di cloud computing per costruire infrastrutture di gioco su larga scala, con l'obiettivo di migliorare la scalabilità e la reattività, migliorare l'esperienza dell'utente e abilitare nuovi modelli di business \parencite{Cloud_for_Gaming}.

L'uso dei giochi digitali nell'educazione è oggetto di ricerca da molti anni e la loro utilità è stata confermata da molti studi e progetti di ricerca. Test standardizzati, come il test PISA, mostrano che gli intervistati hanno ottenuto risultati migliori in lettura, matematica e fisica se hanno utilizzato maggiormente il computer per attività legate al gioco. È stato dimostrato che l'applicazione dei videogiochi nell'istruzione aumenta la motivazione degli studenti, migliora diversi tipi di abilità chiave: abilità sociali e intellettuali, riflessi e concentrazione. Tuttavia, ci sono diverse sfide associate all'applicazione dei videogiochi nelle scuole e possono essere classificate come tecniche (limitazioni della rete e dei dispositivi finali), competenza (conoscenza degli insegnanti nell'area), qualitativa (mancanza di giochi educativi di alta qualità) e finanziario (costo elevato per l'acquisto di giochi e attrezzature). La nuova architettura per la fornitura di contenuti di gioco comunemente denominati "cloud gaming" ha il potenziale per risolvere la maggior parte delle attuali sfide dell'utilizzo dei giochi nell'istruzione. Una piattaforma di cloud gaming ben progettata consentirebbe un utilizzo semplice e senza interruzioni sia per studenti che per insegnanti. Pur risolvendo la maggior parte dei problemi attuali, il cloud gaming introduce una serie di nuove sfide di ricerca che saranno discusse in questa sezione \parencite{Use_of_Cloud_Gaming_in_Education}.


%concorrenti
La presente tesi introduce un sistema di Games on Demand che non richiede il possesso di attrezzature speciali da parte degli abbonati. Ogni gioco viene eseguito su una macchina situata nei locali del venditore e la sua visualizzazione viene trasmessa all'utente in tempo reale, mentre la reazione dell'utente viene ritrasmessa e inserita nel gioco. Poiché nessun dato viene installato o salvato sul lato dell'abbonato, il sistema salva l'abbonato dall'acquisto e dall'aggiornamento frequente di una macchina potente e garantisce che anche gli utenti con poca o nessuna conoscenza del computer possano iscriversi e utilizzare questo servizio. Il sistema supporta i giochi realizzati con la tecnologia DirectX e non richiede alcuna modifica dei giochi originali. Pertanto, qualsiasi gioco può essere utilizzato nel sistema nel suo primo giorno di rilascio. I frame del gioco vengono catturati tramite una tecnica di process hooking e codificati in tempo reale nel formato MPEG2. I frame codificati vengono incapsulati in un Transport Stream e trasmessi in streaming al client dell'utente tramite il protocollo UDP. Le azioni dell'utente vengono acquisite come input non elaborati e ritrasmesse al server di gioco tramite UDP, dove vengono inserite nelle code degli eventi del mouse o della tastiera e trasmesse automaticamente al processo di gioco dal sistema operativo. Questa tecnica consente la continua falla dei dati e rende il controllo remoto di un gioco una realtà \parencite{ARealTimeStreamingGamesonDemandSystem}.

Presentiamo il primo sistema di cloud gaming open source, chiamato GamingAnywhere. Oltre alla sua apertura, abbiamo progettato GamingAnywhere per un'elevata estensibilità, portabilità e riconfigurabilità. L'abbiamo implementato su Windows, Linux, OS X e Android. Abbiamo condotto ampi esperimenti per valutarne le prestazioni. I nostri risultati sperimentali indicano che GamingAnywhere è efficiente, scalabile, adattabile alle condizioni di rete e raggiunge un'elevata reattività e qualità di streaming. Gaming- Anywhere può essere impiegato da ricercatori, sviluppatori di giochi, fornitori di servizi e utenti finali per la creazione di banchi di prova per il cloud gaming, che riteniamo stimoleranno ulteriori ricerche sulle innovazioni per i sistemi e le applicazioni di cloud gaming \parencite{GamingAnywhere}.



% non gaming ma tecnologie
In questo lavoro di tesi si è voluto progettare un sistema di monitoraggio per la gestione delle informazioni ottenute dalla scena del campo di emergenza al fine di aiutare gli operatori e i decisori ad avere una visione più completa del campo di emergenza così da agire correttamente e non solo. velocemente.
Sono state valutate varie soluzioni per ogni elemento del sistema di monitoraggio, inclusi Media Streaming Server, Media Streaming Protocol e codec video e per ciascuna parte viene selezionato lo strumento migliore. Inoltre, una soluzione di rilevamento degli oggetti viene implementata sopra gli elementi video per aiutare il supervisore a identificare le informazioni richieste in modo più rapido e accurato \parencite{CombinedICTTechnologiesforSupervisionofComplexOperationsinResilientCommunities}.

Questo lavoro introduce un nuovo modello per i sistemi di cloud gaming volto a ottimizzare la tempestività dei frame video sulla base di una metrica dell'età delle informazioni (AoI). I client mobili inviano azioni tramite una rete di accesso a un server di gioco. Il server di gioco genera fotogrammi video a una frequenza fotogrammi costante. Sul dispositivo mobile, la visualizzazione di questi frame rappresenta gli aggiornamenti dello stato del gioco. Sviluppiamo un modello Markov per caratterizzare il processo di consegna dei frame nei sistemi di cloud gaming edge a bassa latenza. Sulla base di questo modello, deriviamo una semplice formula per l'età media dello stato di un sistema di gioco mobile a bassa latenza strettamente sincronizzato in cui il periodo di inter-frame contribuisce in modo significativo alla latenza del sistema. Convalidiamo il modello mediante simulazione ns-3 di un sistema di cloud gaming edge a bassa latenza. I nostri scenari di valutazione includevano giochi per giocatore singolo e giochi multi-giocatore in cui l'elaborazione del gioco era condotta da una combinazione di un server di gioco centralizzato e renderer edge cloud \parencite{Timely_cloud_gaming}.


%analisi Cloud gaming
Questo articolo propone un'analisi delle caratteristiche di rete del Remote Play per PlayStation 4 e PlayStation Vita, fornendo alcuni approfondimenti sulle dinamiche di rete di questo sistema in diversi tipi di gioco. Le misurazioni coinvolgono videogiochi di diversi generi, analizzando i bitrate, la dimensione del pacchetto, catturando le dinamiche dell'intera sessione di streaming. I risultati indicano che il servizio genera una grande quantità di pacchetti grandi a valle e pacchetti sempre più piccoli a monte. I dati raccolti possono aiutare a capire se questo tipo di servizio potrebbe essere offerto attraverso le normali connessioni Internet odierne \parencite{Network_Analysis_of_the_Sony_Remote_Play_System}.

In questo lavoro studiamo i servizi di cloud gaming dal punto di vista della rete. Raccogliamo più di 200 tracce di pacchetti in diverse impostazioni dell'applicazione e condizioni di rete da una rete a banda larga fino a condizioni di rete mobile scadenti, per 3 servizi di cloud gaming, vale a dire Stadia di Google, GeForce Now di NVIDIA e PS Now di Sony. Analizziamo i protocolli impiegati e il carico di lavoro che impongono alla rete. Troviamo che GeForce Now e Stadia utilizzano il protocollo RTP per lo streaming dei contenuti multimediali, con quest'ultimo che si affida alle API WebRTC standard. Risulterebbero affamati di larghezza di banda e consumano fino a 45 Mbit / s, a seconda della rete e della qualità video. PS Now invece utilizza solo protocolli non documentati e non supera mai i 13 Mbit / s. Le reti mobili 4G possono spesso sostenere questi carichi, mentre le connessioni 3G tradizionali hanno difficoltà. I sistemi reagiscono rapidamente alle condizioni di rete deteriorate e le perdite di pacchetti fino al 5\% non causano una riduzione della risoluzione \parencite{A_Network_Analysis_on_Cloud_Gaming_Stadia_GeForce_Now_and_PSNow}.

In questo articolo, conduciamo un'analisi sistematica delle piattaforme di gioco cloud all'avanguardia e mettiamo in evidenza l'unicità del loro design del framework.Misuriamo anche le loro prestazioni nel mondo reale con diversi tipi di giochi, sia per la latenza di interazione che per la qualità dello streaming, rivelando sfide critiche per l'implementazione diffusa del Cloud Gaming \parencite{Cloud_Gaming_Architecture_and_Performance}.


%analisi rete
Attualmente, i sistemi e le tecnologie di informazione e comunicazione si stanno sviluppando ad un ritmo molto elevato e stanno diventando ampiamente disponibili. A questo punto, ogni anno compaiono sul mercato sempre più programmi che consentono la comunicazione tra persone a grande distanza con l'uso delle tecnologie di rete e di Internet. Molti programmi già noti forniscono rapporti per i loro utenti con l'uso di comunicazioni affidabili gratuitamente o quasi gratuitamente; ad esempio: Skype, Viber, NetMeeting, Net Speakerphone, Team Speak e Discord. Tutti questi programmi e tecnologie sono chiamati IPtelephony; include una varietà di tecnologie che forniscono il trasferimento di dati multimediali (voce, video e vari contenuti multimediali) su reti di computer e Internet. Si basano su vari protocolli di streaming in tempo reale. Molte aziende e utenti in tutto il mondo utilizzano i servizi di telefonia IP per supportare la comunicazione remota e la comunicazione video tra le persone in tempo reale. A questo proposito, il lavoro considera le caratteristiche del funzionamento di vari protocolli che vengono utilizzati per trasmettere informazioni visive tra utenti della rete e utenti di vari programmi e sottoreti. La maggior parte di loro utilizza gli stessi protocolli di rete, ma ha modi diversi di affrontare i problemi di rete, come capacità di carico insufficiente o perdite di rete, che in un modo o nell'altro influenzano la qualità della comunicazione in tempo reale e, di conseguenza, la qualità delle informazioni visive visualizzate. In particolare, le caratteristiche di diversi protocolli di trasferimento in tempo reale di rete multimediale più diffusi (dati video con audio - videoconferenza) vengono studiate sotto determinate limitazioni e perdite. Inoltre, vengono forniti i risultati degli esperimenti, le stime ottenute dell'efficacia dei protocolli e le peculiarità nel funzionamento dei vari protocolli nelle stesse condizioni di test \parencite{Network_technology_for_transmission_of_visual_information}.

Questo documento analizza la latenza in una rete di accesso ai pacchetti ad alta velocità dotata di risorse adeguate per il traffico da macchina a macchina e di gioco online emulato. Il protocollo TCP (Transmission Control Protocol) e UDP (User Datagram Protocol) vengono utilizzati per trasmettere i dati dell'applicazione e vengono confrontati i risultati delle misurazioni dal punto di vista dell'utente finale. Nel caso TCP, le tracce del traffico sono state registrate anche in due punti della rete principale (interfaccia Gn e firewall) e il ritardo complessivo è sezionato a porzioni appartenenti a parti diverse della rete (accesso, core, backbone). La diversità dei modelli di traffico utilizzati ha permesso di trarre conclusioni riguardanti la selettività di alcune parti della rete verso diversi modelli di traffico, indicando la direzione della ricerca futura sulla riduzione della latenza per domini applicativi emergenti nelle reti legacy \parencite{Latency_analysis_for_M2M}.



%Struttura della tesi
%La terza parte contiene la descrizione della struttura della tesi ed è organizzata nel modo seguente.
%La tesi è strutturata nel modo seguente:
%Nella sezione due si mostra \dots
%Nella sez. tre si illustra \dots
%Nella sez. quattro si descrive \dots
%Nelle conclusioni si riassumono gli scopi, le valutazioni di questi e le prospettive future \dots
%Nell'appendice A si riporta \dots (Dopo ogni sezione o appendice ci vuole un punto).
%I titoli delle sezioni da 2 a M-1 sono indicativi, ma bisogna cercare di mantenere un significato equipollente nel caso si vogliano cambiare. Queste sezioni possono contenere eventuali sottosezioni.

La tesi è strutturata nel modo seguente:
\begin{itemize}
	\item Il capitolo 1 fornisce un'introduzione sulla nascita dei videogiochi e dei ricavi globali dell'industria videoludica, dà una definizione di cloud computing e di cloud gaming, fà una panoramica delle piattaforme di gioco che si sono susseguite nel tempo e delle proiezioni di mercato del settore del cloud gaming.
	\item Nel capitolo 2 verrà descritto il sistema proposto, il MAME e le sue funzioni di: rendering, missaggio audio e gestione dell'input utente.
	\item Nel capitolo 3 verranno descritte le cinque fasi aggiuntive del cloud gaming e la loro implementazione in C++ come nuovi moduli del MAME: la cattura audio-video, la codifica, la trasmissione, la decodifica e la gestione dell'input utente.
	\item Il capitolo 4 analizza le prestazioni del progetto relativamente ai tre difetti intrinseci del cloud gaming: riduzione della qualità audio-video, bit-rate richiesto e il problema della latenza.
	\item Nelle conclusioni si riassumono gli scopi, le valutazioni di questi e le prospettive future.
	\item Nell'appendice A si riporta la documentazione del progetto logico. L'appendice B contiene la documentazione della programmazione. Il listato con l’autodocumentazione relativa è riportato nell'appendice C. Il manuale utente lo si trova nell'appendice D. Nell'appendice E c'è un esempio di impiego. Infine nell'appendice F si trova il datasheet.
\end{itemize}